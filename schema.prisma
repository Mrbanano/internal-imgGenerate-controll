// This file is automatically generated by Keystone, do not modify it manually.
// Modify your Keystone config when you want to change this.

datasource sqlite {
  url               = env("DATABASE_URL")
  shadowDatabaseUrl = env("SHADOW_DATABASE_URL")
  provider          = "sqlite"
}

generator client {
  provider = "prisma-client-js"
}

model User {
  id                                String             @id @default(cuid())
  name                              String             @default("")
  second_name                       String             @default("")
  lastname                          String             @default("")
  second_lastname                   String             @default("")
  email                             String             @unique @default("")
  phone                             String             @default("")
  gender                            String?
  reference                         String?
  country                           String             @default("")
  state                             String             @default("")
  city                              String             @default("")
  password                          String
  birthDate                         String             @default("")
  onBoardingStep                    Int                @default(0)
  createdAt                         DateTime?          @default(now())
  rol                               String?            @default("user")
  registerDevice                    String             @default("")
  from_GenerationRecord_generatedBy GenerationRecord[] @relation("GenerationRecord_generatedBy")
  from_Balance_user                 Balance[]          @relation("Balance_user")
}

model GenerationRecord {
  id            String    @id @default(cuid())
  generationID  String    @unique @default("")
  generatedBy   User?     @relation("GenerationRecord_generatedBy", fields: [generatedById], references: [id])
  generatedById String?   @map("generatedBy")
  generation    String    @default("")
  status        String?   @default("En proceso")
  apiCreditCost Float
  updatedAt     DateTime?
  createdAt     DateTime? @default(now())

  @@index([generatedById])
}

model Balance {
  id        String    @id @default(cuid())
  user      User?     @relation("Balance_user", fields: [userId], references: [id])
  userId    String?   @map("user")
  balance   Int       @default(0)
  updatedAt DateTime?
  createdAt DateTime  @default("2024-06-09T21:06:23.518Z")

  @@index([userId])
}
